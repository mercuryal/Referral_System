@model MvcApplication1.Models.ViewModels.ReferralEditVM

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}

<div class="content">
    <div class="container-fluid">
        @Html.ActionLink("Back to List", "Index")
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Referral form</h4>
                    </div>
                    <div class="content">
                        @using (Html.BeginForm())
                        {
                            @Html.AntiForgeryToken()
                            @Html.ValidationSummary(true)
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Doctor</label>
                                        <select name="Doctor" class="form-control" required>
                                            <option selected disabled>Search doctor</option>
                                            @foreach (var doctor in Model.DoctorModels)
                                            {
                                                 if(doctor.Id == Model.CurrentDoctor.Id)
                                                 {
                                                     <option value="@doctor.Id" selected>@doctor.Name @doctor.Last_name</option>
                                                 }
                                                 else{
                                                          <option value="@doctor.Id">@doctor.Name @doctor.Last_name</option>
                                                      }    
                                            }
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>City</label>
                                        <input type="text" class="form-control" placeholder="City" name="City" value="@Model.ReferralModel.City" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>State</label>
                                        <input type="text" class="form-control" placeholder="State" name="State" value="@Model.ReferralModel.State" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Clinic</label>
                                        <input type="text" class="form-control" value="@Model.CurrentDoctor.Clinic_name" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <h3>Patient</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Name</label>
                                        <input type="text" class="form-control" name="Name" value="@Model.CurrentPatient.First_name" required>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Middle Initial</label>
                                        <input type="text" class="form-control" name="Middle_initial" value="@Model.CurrentPatient.Middle_initial">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Last name</label>
                                        <input type="text" class="form-control" name="Last_name" value="@Model.CurrentPatient.Last_name" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Reason</label>
                                        <select name="Reason" class="form-control" required>
                                            @foreach (var item in Model.ReasonModels)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                                
                                            }
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Date</label>
                                        <input type="date" name="Date" class="form-control" value="" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Notes</label>
                                        <textarea rows="5" class="form-control" placeholder=""></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-info btn-fill pull-right">Update</button>
                            <div class="clearfix"></div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
}

